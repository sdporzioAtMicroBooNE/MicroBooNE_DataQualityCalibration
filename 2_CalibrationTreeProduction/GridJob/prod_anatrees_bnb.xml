<?xml version="1.0"?>

<!-- Production Project -->
<!DOCTYPE project [
<!ENTITY user "sporzio">
<!ENTITY storage_location "scratch">

<!ENTITY category "Calibration">
<!ENTITY name "bnb">
<!ENTITY job_n "10">
<!ENTITY maxfileperjob_n "1">
<!ENTITY eventperfile_n "30"> <!-- Just for book keeping-->
<!ENTITY event_n "30000"> <!-- Just for book keeping-->
<!ENTITY version "1">

<!-- Main directories definition -->
<!ENTITY data_dir "/uboone/data/users/uboonepro/sporzio">
<!ENTITY storage_dir "/pnfs/uboone/scratch/users/uboonepro/sporzio">
<!ENTITY gen_upload_dir "/pnfs/uboone/resilient/users/sporzio/GridFiles">
<!-- Job directories definition -->
<!ENTITY out_dir "&storage_dir;/&category;/&name;/v&version;/Samples">
<!ENTITY log_dir "&storage_dir;/&category;/&name;/v&version;/Logs">
<!ENTITY work_dir "&storage_dir;/Work/&category;/&name;/v&version;">
<!ENTITY book_dir "&data_dir;/Book/&category;/&name;/v&version;">
]>

<job>

<project name="&name;">
  <numevents>1000000</numevents>
  <os>SL6</os>
  <resource>DEDICATED,OPPORTUNISTIC</resource>
  <larsoft>
    <tag>development</tag>
    <local>&gen_upload_dir;/uboonecode_v06_26_01_17.tar</local>
  </larsoft>

  <check>1</check>

  <stage name="anatrees">
    <inputdef>sporzio_prod_bnb_swizzle_inclusive_v5_17-05-18_1kfiles</inputdef>
    <fcl>reco_uboone_data_mcc8_driver_stage1_optfilter_ext_reduced.fcl</fcl>
    <fcl>reco_uboone_data_mcc8_driver_stage2_reduced.fcl</fcl>
    <fcl>eventdump.fcl</fcl>
    <numjobs>&job_n;</numjobs>
    <maxfilesperjob>&maxfileperjob_n;</maxfilesperjob>
    <datatier>root-tuple</datatier>
    <anadatatier>root-tuple</anadatatier>
    <jobsub>--expected-lifetime=long --subgroup=prod</jobsub>
    <jobsub_start>--expected-lifetime=short --subgroup=prod</jobsub_start>
    <endscript>merge_dqm_hists.sh</endscript>
    <outdir>&out_dir;/anatrees</outdir>
    <logdir>&log_dir;/anatrees</logdir>
    <workdir>&work_dir;/anatrees</workdir>
    <bookdir>&book_dir;/anatrees</bookdir>

  </stage>

</project>
</job>
